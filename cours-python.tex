\documentclass[10pt]{book}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{textcomp} % provide euro and other symbols
\usepackage[francais]{babel}
\usepackage{lmodern}
\usepackage{icomma} 
\usepackage{amsmath}
\usepackage{mathptmx}
\usepackage{graphicx}
\usepackage{geometry}
\geometry{
  margin=1.5cm,
  footskip=1.5cm,
}


% define PDF format options
\usepackage{hyperref}
\hypersetup{ % configuration de hyperref
  draft=false,          		% true pour imprimer sans les liens
  bookmarks=true,       		% Signets
  bookmarksnumbered=true,   % Signets numérotés
  pdfpagemode=None,         % Signets/vignettes fermé à l'ouverture
  pdfstartview=FitH,        % La page prend toute la largeur
  pdfpagelayout=SinglePage, % Vue par page
  colorlinks=true,     			% Liens en couleur
  urlcolor=blue,     				% Couleur des liens externes
  pdfborder={0 0 0},        % Style de bordure : ici, pas de bordure
  pdfauthor={Patrick Fuchs et Pierre Poulain},
  pdftitle={Cours de Python},
  pdfsubject={Cours de Python},
  pdfkeywords={programmation,Python,biologie},
  pdfcreator={pandoc},
  pdfproducer={pandoc}
}

\usepackage{upquote}
\usepackage{calc,longtable,booktabs,array}

%====================================================================
% Police de caractères
%====================================================================
\usepackage{cmbright}
\usepackage{sourcecodepro}


%====================================================================
% Numérote les chapitres, sections et sous-sections
% Le paramètre --top-level-division=chapter de pandoc définit
% le premier niveau de titre comme étant les chapitres.
%====================================================================
\setcounter{secnumdepth}{3}


%====================================================================
% Listes avec des points au lieu de tirets
%====================================================================
\usepackage{enumitem}
\setlist[itemize,1]{label=$\bullet$}
\setlist[itemize]{parsep=0pt,nolistsep}
\setlist[enumerate]{parsep=0pt,nolistsep}
% \setlength{\leftmargin}{0cm}


%====================================================================
% Style de chapitre
% et espacement entre les titres
%====================================================================
\usepackage[explicit]{titlesec}
% Refefine the chapter title format
% https://borntocode.fr/latex-personnaliser-les-titres-chapter/
\usepackage[Bjornstrup]{fncychap}
%\titlespacing*{\chapter}{0pt}{-10pt}{\baselineskip}
\titlespacing*{\section}{0pt}{*1.5}{*1}
\titlespacing*{\subsection}{0pt}{*1.5}{*1}

%====================================================================
% Supprimer les pages blanches en fin de chapitre
%====================================================================
\let\cleardoublepage\clearpage


%====================================================================
% Augmenter l'espace entre les lignes
%====================================================================
\usepackage{setspace}
\setstretch{1.05}


%====================================================================
% Conversion des liens web en note de bas de page
%====================================================================
\renewcommand{\href}[2]{#2\footnote{\url{#1}}}


%==============================================================================
% load listing package
% and redefine the vebatim environment
%==============================================================================
\usepackage{listings}
\newcommand{\passthrough}[1]{#1}
\usepackage{xcolor}

% Prevent listing to break across pages
\usepackage{etoolbox}
\BeforeBeginEnvironment{lstlisting}{\par\noindent\begin{minipage}{\linewidth}}
\AfterEndEnvironment{lstlisting}{\end{minipage}\par\addvspace{\topskip}}

\definecolor{listing-background}{HTML}{F7F7F7}
\definecolor{listing-rule}{HTML}{B3B2B3}
\definecolor{listing-numbers}{HTML}{B3B2B3}
\definecolor{listing-text-color}{HTML}{273746}
\definecolor{listing-keyword}{HTML}{273746}
\definecolor{listing-keyword-2}{HTML}{273746} % additional keywords
\definecolor{listing-keyword-3}{HTML}{273746} % additional keywords
\definecolor{listing-identifier}{HTML}{273746}
\definecolor{listing-string}{HTML}{273746}
\definecolor{listing-comment}{HTML}{8E8E8E}


\lstdefinestyle{cours_python_listing_style}{
  language         = python,
  numbers          = left,
  xleftmargin      = 2.7em,
  framexleftmargin = 2.5em,
  backgroundcolor  = \color{listing-background},
  basicstyle       = \color{listing-text-color}\linespread{1.0}%
                      \lst@ifdisplaystyle%
                      \footnotesize%
                      \else%
                      \small%
                      \fi%
                      \ttfamily{},
  breaklines       = true,
  frame            = single,
  framesep         = 0.19em,
  rulecolor        = \color{listing-rule},
  frameround       = ffff,
  tabsize          = 4,
  keepspaces       = true,
  numberstyle      = \color{listing-numbers},
  aboveskip        = 1.0em,
  belowskip        = 0.1em,
  abovecaptionskip = 0em,
  belowcaptionskip = 1.0em,
  keywordstyle     = {\color{listing-keyword}},
  keywordstyle     = {[2]\color{listing-keyword-2}},
  keywordstyle     = {[3]\color{listing-keyword-3}},
  sensitive        = true,
  identifierstyle  = \color{listing-identifier},
  commentstyle     = \color{listing-comment},
  stringstyle      = \color{listing-string},
  showstringspaces = false,
  escapeinside     = {/*@}{@*/}, % Allow LaTeX inside these special comments
  literate         =
  {á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1
  {Á}{{\'A}}1 {É}{{\'E}}1 {Í}{{\'I}}1 {Ó}{{\'O}}1 {Ú}{{\'U}}1
  {à}{{\`a}}1 {è}{{\`e}}1 {ì}{{\`i}}1 {ò}{{\`o}}1 {ù}{{\`u}}1
  {À}{{\`A}}1 {È}{{\`E}}1 {Ì}{{\`I}}1 {Ò}{{\`O}}1 {Ù}{{\`U}}1
  {ä}{{\"a}}1 {ë}{{\"e}}1 {ï}{{\"i}}1 {ö}{{\"o}}1 {ü}{{\"u}}1
  {Ä}{{\"A}}1 {Ë}{{\"E}}1 {Ï}{{\"I}}1 {Ö}{{\"O}}1 {Ü}{{\"U}}1
  {â}{{\^a}}1 {ê}{{\^e}}1 {î}{{\^i}}1 {ô}{{\^o}}1 {û}{{\^u}}1
  {Â}{{\^A}}1 {Ê}{{\^E}}1 {Î}{{\^I}}1 {Ô}{{\^O}}1 {Û}{{\^U}}1
  {œ}{{\oe}}1 {Œ}{{\OE}}1 {æ}{{\ae}}1 {Æ}{{\AE}}1 {ß}{{\ss}}1
  {ç}{{\c c}}1 {Ç}{{\c C}}1 {ø}{{\o}}1 {å}{{\r a}}1 {Å}{{\r A}}1
  {€}{{\EUR}}1 {£}{{\pounds}}1 {«}{{\guillemotleft}}1
  {»}{{\guillemotright}}1 {ñ}{{\~n}}1 {Ñ}{{\~N}}1 {¿}{{?`}}1
  {…}{{\ldots}}1 {≥}{{>=}}1 {≤}{{<=}}1 {„}{{\glqq}}1 {“}{{\grqq}}1
  {”}{{''}}1
}
% Create a style for Python code
\lstdefinestyle{pythonstyle}{language=python,style=cours_python_listing_style}


% Define a new font size for files that are not Python script
% and command line instructions.
% Display up to 80 characters per line.
\makeatletter
\newcommand*\nocodesize{%
  \@setfontsize\nocodesize{7.8}{9.0}%
}
\makeatother
% Define this new font size as the default for the verbatim environment
\lstset{
  style=cours_python_listing_style,
  numbers=none,
  backgroundcolor=\color{white},
  xleftmargin=0em,
  framexleftmargin=0em,
  basicstyle=\nocodesize\ttfamily{},
}


%====================================================================
% Préserve le ratio des images
%====================================================================
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}


%==============================================================================
% define page header and footer
%==============================================================================
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{} % clear all headers and footer fields
\fancyhead[LE,RO]{\nouppercase{\leftmark}}
\fancyhead[RE,LO]{\nouppercase{\rightmark}}
\fancyfoot[LE,RO]{\thepage}
\fancyfoot[RE,LO]{\it Cours de Python / Université Paris Cité / UFR Sciences du Vivant}



%==============================================================================
% boxes
%==============================================================================
\usepackage{framed}

\newenvironment{box-rem}%
{\vspace{5mm}\noindent\textbf{Remarque}\ \hrulefill}%
{\vspace*{-2mm}\noindent\hrulefill\vspace{5mm}}

\newenvironment{box-adv}%
{\vspace{5mm}\noindent\textbf{Conseil}\ \hrulefill}%
{\vspace*{-2mm}\noindent\hrulefill\vspace{5mm}}

\newenvironment{box-warn}%
{\vspace{5mm}\noindent\textbf{Attention}\ \hrulefill}%
{\vspace*{-2mm}\noindent\hrulefill\vspace{5mm}}

\newenvironment{box-def}%
{\vspace{5mm}\noindent\textbf{Définition}\ \hrulefill}%
{\vspace*{-2mm}\noindent\hrulefill\vspace{5mm}}

\newenvironment{box-more}%
{\vspace{5mm}\noindent\textbf{Pour aller plus loin}\ \hrulefill}%
{\vspace*{-2mm}\noindent\hrulefill\vspace{5mm}}

%==============================================================================
% start document
%==============================================================================
\begin{document}

%==============================================================================
% title page
%==============================================================================
\thispagestyle{empty}

\begin{titlepage}

\begin{center}

\includegraphics[width=6cm]{img/logo_Univ_Paris_Cite.png}

\vspace{3cm}

{\Huge \bf Cours de Python}
\vspace{0.5cm}

{\itshape \Large
Introduction à la programmation Python pour la biologie
}
\vspace{0.5cm}

\verb@https://python.sdv.u-paris.fr/@
\vspace{4cm}

\includegraphics[width=5cm]{img/logo_python.png} \\
\vspace{0.5cm}

{\large
	{\bf Patrick Fuchs} et {\bf Pierre Poulain} \\
	{\tt prénom [point] nom [arobase] u-paris [point] fr}
}
\vspace{4cm}

version du \today
\vspace{2cm}

Université Paris Cité, France

\vfill

\begin{minipage}{0.80\textwidth}
\footnotesize
Ce document est sous licence \\
Creative Commons Attribution - Partage dans les Mêmes Conditions 3.0 France \\
(CC BY-SA 3.0 FR) \\
\url{https://creativecommons.org/licenses/by-sa/3.0/fr/}
\end{minipage}
\begin{minipage}{0.15\textwidth}
\includegraphics{img/logo_CC-BY-SA.png}
\end{minipage}

\end{center}
\end{titlepage}

%==============================================================================
% define margins
%==============================================================================
\newgeometry{left=2cm,right=2cm,top=2cm,bottom=2.5cm}

%==============================================================================
% add table of content
%==============================================================================
\setcounter{tocdepth}{1}
\tableofcontents

\clearpage
\include{tex/00_avant_propos}
\include{tex/01_introduction}
\include{tex/02_variables}
\include{tex/03_affichage}
\include{tex/04_listes}
\include{tex/05_boucles_comparaisons}
\include{tex/06_tests}
\include{tex/07_fichiers}
\include{tex/08_dictionnaires_tuples}
\include{tex/09_modules}
\include{tex/10_fonctions}
\include{tex/11_plus_sur_les_chaines_de_caracteres}
\include{tex/12_plus_sur_les_listes}
\include{tex/13_plus_sur_les_fonctions}
\include{tex/14_conteneurs}
\include{tex/15_creation_modules}
\include{tex/16_bonnes_pratiques}
\include{tex/17_expressions_regulieres}
\include{tex/18_jupyter}
\include{tex/19_module_biopython}
\include{tex/20_module_numpy}
\include{tex/21_module_matplotlib}
\include{tex/22_module_pandas}
\include{tex/23_avoir_la_classe_avec_les_objets}
\include{tex/24_avoir_plus_la_classe_avec_les_objets}
\include{tex/25_tkinter}
\clearpage
\input{tex/26_remarques_complementaires}
\clearpage
\input{tex/27_mini_projets}

\appendix

\include{tex/annexe_A_formats_fichiers}
\include{tex/annexe_B_install_python}

\end{document}
